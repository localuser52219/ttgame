/* style.css —— 正式版通用樣式 */

/* 基本配色與版面 */
:root{ --primary:#6f4c9b; --bg:#faf7fc; --ink:#22172a; --ok:#2e7d32; --bad:#c62828; }
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Noto Sans TC','微軟正黑體',sans-serif;color:var(--ink);background:var(--bg)}
.wrap{max-width:940px;margin:0 auto;padding:24px}
header{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.dot{width:10px;height:10px;border-radius:50%;background:var(--primary)}
h1{font-size:18px;margin:0}
#stageBadge{font-weight:700;color:var(--primary)}
.card{background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.06);padding:20px}

/* 公用元件 */
.btn{appearance:none;border:0;border-radius:12px;padding:10px 16px;background:var(--primary);color:#fff;font-weight:700;cursor:pointer}
.btn[disabled]{opacity:.5;cursor:not-allowed}
.row{display:flex;gap:8px;flex-wrap:wrap}
.muted{opacity:.7;font-size:14px}

/* Stage1：愛心特效 */
.heart{
  position:absolute;width:10px;height:10px;background:var(--primary);
  transform:rotate(-45deg);opacity:.85;pointer-events:none;
}
.heart::before,.heart::after{
  content:'';position:absolute;width:10px;height:10px;background:var(--primary);border-radius:50%;
}
.heart::before{top:-5px;left:0}
.heart::after{left:5px;top:0}

/* Stage2：配對遊戲（避免與面板 .card 衝突，使用 .match-card） */
.match-grid{display:grid;grid-template-columns:repeat(4,80px);gap:12px;justify-content:center}
.match-card{position:relative;width:80px;height:80px;border:none;border-radius:10px;perspective:800px;background:transparent;cursor:pointer}
.match-card .face{
  display:flex;align-items:center;justify-content:center;font-size:28px;
  position:absolute;inset:0;background:#f1e4f8;border-radius:10px;
  backface-visibility:hidden;transition:transform .35s ease
}
.match-card .face.as-image{background-size:cover;background-position:center;font-size:0}
.match-card .back{background:#ece2f3;transform:rotateY(0deg)}
.match-card .front{transform:rotateY(180deg)}
.match-card.is-flipped .back{transform:rotateY(-180deg)}
.match-card.is-flipped .front{transform:rotateY(0deg)}
.match-card.is-matched{outline:2px solid var(--primary)}
.result{min-height:20px}
.result.ok{color:var(--ok)}
.result.fail{color:var(--bad)}

/* Stage3：選項與結果按鈕 */
.choices button{
  padding:10px 18px;margin:4px;border:none;border-radius:12px;
  background-color:#ece2f3;color:#4c3652;font-weight:700;font-size:16px;
  cursor:pointer;transition:all .2s ease;
}
.choices button.selected{background:var(--primary);color:#fff}
.result-btn{padding:12px 20px;margin-top:16px;border:none;border-radius:12px;font-size:16px;cursor:pointer}
.result-btn.correct{background:var(--ok);color:#fff}
.result-btn.incorrect{background:var(--bad);color:#fff}

/* Stage4：字母快速點擊 */
.tap-grid{display:grid;grid-template-columns:repeat(3,80px);gap:10px;justify-content:center}
.tap-btn{width:80px;height:80px;border-radius:12px;border:2px solid var(--primary);background:#f1e4f8;font-size:28px;font-weight:700;cursor:pointer}
.tap-btn.ok{background:#e3f2e7;border-color:var(--ok)}
.tap-btn.bad{background:#fdecea;border-color:var(--bad)}

/* 響應式微調 */
@media (max-width: 420px){
  .match-grid{grid-template-columns:repeat(4,64px);gap:10px}
  .match-card{width:64px;height:64px}
  .tap-grid{grid-template-columns:repeat(3,64px);gap:8px}
  .tap-btn{width:64px;height:64px;font-size:22px}
}
